(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const e of a)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerPolicy&&(e.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?e.credentials="include":a.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(a){if(a.ep)return;a.ep=!0;const e=t(a);fetch(a.href,e)}})();var m=n=>{document.readyState!="loading"?n():document.addEventListener("DOMContentLoaded",n)};function y(){return window.history&&window.history.replaceState}var u=u||{};u.money_format="${{amount}}";u.formatMoney=function(n,r){typeof n=="string"&&(n=n.replace(".",""));var t="",i=/\{\{\s*(\w+)\s*\}\}/,a=r||this.money_format;function e(s,l){return typeof s>"u"?l:s}function c(s,l,o,d){if(l=e(l,2),o=e(o,","),d=e(d,"."),isNaN(s)||s==null)return 0;s=(s/100).toFixed(l);var f=s.split("."),h=f[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+o),p=f[1]?d+f[1]:"";return h+p}switch(a.match(i)[1]){case"amount":t=c(n,2);break;case"amount_no_decimals":t=c(n,0);break;case"amount_with_comma_separator":t=c(n,2,".",",");break;case"amount_no_decimals_with_comma_separator":t=c(n,0,".",",");break}return a.replace(i,t)};m(function(){var n,r=[];r[1]=null,r[2]=null,r[3]=null;var t=document.querySelectorAll(".js--variant-option");t.forEach(function(i){i.addEventListener("change",function(a){v(),t.forEach(function(e){if(e.tagName.toLowerCase()=="input"&&e.checked==!0){var c=e.getAttribute("name"),s=parseInt(c.replace("option","")),l=e.value;r[s]=l}}),variants.filter(function(e){if(e.option1==r[1]&&e.option2==r[2]&&e.option3==r[3]){n=e,document.querySelector("input#js--variant-id").value=e.id,document.querySelectorAll('input[type="checkbox"].js--variant-id').forEach(function(o){o.value=e.id,o.setAttribute("data-price",e.price),e.available==!0?(o.checked=!0,o.disabled=!1):(o.checked=!1,o.disabled=!0)}),document.querySelectorAll(".js--variant-price").forEach(function(o){o.innerHTML=u.formatMoney(e.price)}),e.compare_at_price>e.price?document.querySelectorAll(".js--variant-compareatprice").forEach(function(o){o.innerText=u.formatMoney(e.compare_at_price)}):document.querySelectorAll(".js--variant-compareatprice").forEach(function(o){o.innerText=""}),document.querySelectorAll(".js--variant-sku").forEach(function(o){o.innerText=n.sku}),e.available===!1?(document.querySelector("#js--addtocart").disabled=!0,document.querySelector("#js--addtocart").innerText="Unavailable"):(document.querySelector("#js--addtocart").disabled=!1,document.querySelector("#js--addtocart").innerText="Add to cart");var c=e.featured_image!=null?e.featured_image.id:default_image,s=document.querySelector('.product-image-item[data-imageid="'+c+'"]').getAttribute("data-index"),l=document.querySelector(".product-images-component");goToImage(s,l),e!=null&&y()&&window.history.replaceState({},document.title,"?variant="+e.id)}})})})});function v(){let n=event.target;if(n!==void 0){let r=new Set;variants.filter(function(i,a){i[n.name]==n.value&&r.add(i)});let t={};r.forEach(function(i){let a=Object.entries(i);for(const[e,c]of a)c!=null&&(t[e]==null&&(t[e]=[]),t[e].includes(c)==!1&&t[e].push(c))}),document.querySelectorAll(".js--variant-option").forEach(function(i){i.name!=n.name&&(t[i.name].includes(i.value)==!1?(i.disabled=!0,i.checked=!1):i.disabled=!1)})}document.querySelectorAll(".js--variant-options").forEach(function(r){let t=null;r.querySelectorAll(".js--variant-option:checked").length==0&&(t=r.querySelectorAll(".js--variant-option:not(:disabled)")[0]),t!=null&&(t.checked=!0)})}class S extends HTMLElement{constructor(){super(),this.input=this.querySelector('input[type="search"]'),this.predictiveSearchResults=this.querySelector("#predictive-search"),this.input.addEventListener("input",this.debounce(r=>{this.onChange(r)},300).bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this))}getQuery(){return this.input.value.trim()}onChange(){const r=this.input.value.trim();if(!r.length){this.close();return}this.getSearchResults(r)}getSearchResults(r){fetch(`/search/suggest?q=${r}&section_id=predictive-search`).then(t=>{if(!t.ok){var i=new Error(t.status);throw this.close(),i}return t.text()}).then(t=>{const i=new DOMParser().parseFromString(t,"text/html").querySelector("#shopify-section-predictive-search").innerHTML;this.predictiveSearchResults.innerHTML=i,this.open()}).catch(t=>{throw this.close(),t})}open(){this.predictiveSearchResults.style.display="block"}close(){this.predictiveSearchResults.style.display="none"}debounce(r,t){let i;return(...a)=>{clearTimeout(i),i=setTimeout(()=>r.apply(this,a),t)}}onFocusOut(){setTimeout(()=>{this.contains(document.activeElement)||this.close()})}}customElements.define("predictive-search",S);console.log("Main JavaScript loaded");
